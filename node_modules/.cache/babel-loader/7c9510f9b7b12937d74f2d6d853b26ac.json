{"ast":null,"code":"var _jsxFileName = \"D:\\\\CSE499B\\\\visualize-algo\\\\src\\\\components\\\\floor\\\\SortVisualizer\\\\index.js\";\nimport React, { Component } from 'react';\nimport './style.css'; // Sub components\n\nimport Bar2 from '../../celling/Bar2';\nimport SortChart2 from '../SortChart2';\nimport SortChart1 from '../SortChart1';\nimport SortChart from '../SortChart';\nimport VisualizerControls from '../../middle/VisualizerControls';\nimport ProgressBar from '../../middle/ProgressBar';\nimport ColorKey from '../../celling/ColorKey';\nimport SortInfo from '../SortInfo';\nimport { newTrace } from '../../algorithms/helpers';\nimport { Sd } from '../Sd/sd';\nimport SortInfoP from '../SortInfoP';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SortVisualizer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      trace: [],\n      traceStep: -1,\n      originalArray: [],\n      array: [],\n      groupA: [],\n      groupB: [],\n      groupC: [],\n      groupD: [],\n      sortedIndices: [],\n      l1: [],\n      l2: [],\n      l3: [],\n      l4: [],\n      l5: [],\n      l6: [],\n      timeoutIds: [],\n      playbackSpeed: 1\n    };\n\n    this._reset = array => {\n      this.setState({\n        array,\n        trace: [],\n        traceStep: -1,\n        groupA: [],\n        groupB: [],\n        groupC: [],\n        groupD: [],\n        sortedIndices: [],\n        originalArray: [...array]\n      });\n    };\n\n    this.clearTimeouts = () => {\n      this.state.timeoutIds.forEach(timeoutId => clearTimeout(timeoutId));\n      this.setState({\n        timeoutIds: []\n      });\n    };\n\n    this._changeVisualState = visualState => {\n      this.setState({\n        array: visualState.array,\n        groupA: visualState.groupA,\n        groupB: visualState.groupB,\n        groupC: visualState.groupC,\n        groupD: visualState.groupD,\n        sortedIndices: visualState.sortedIndices\n      });\n    };\n\n    this.run = trace => {\n      const timeoutIds = [];\n      const timer = 250 / this.state.playbackSpeed; // Set a timeout for each item in the trace\n\n      trace.forEach((item, i) => {\n        let timeoutId = setTimeout(item => {\n          this.setState(prevState => ({\n            traceStep: prevState.traceStep + 1\n          }), this._changeVisualState(item));\n        }, i * timer, item);\n        timeoutIds.push(timeoutId);\n      }); // Clear timeouts upon completion\n\n      let timeoutId = setTimeout(this.clearTimeouts, trace.length * timer);\n      timeoutIds.push(timeoutId);\n      this.setState({\n        timeoutIds\n      });\n    };\n\n    this.pause = () => {\n      this.clearTimeouts();\n    };\n\n    this.continue = () => {\n      const trace = this.state.trace.slice(this.state.traceStep);\n      this.run(trace);\n    };\n\n    this.stepForward = () => {\n      const trace = this.state.trace;\n      const step = this.state.traceStep;\n\n      if (step < trace.length - 1) {\n        const item = trace[step + 1];\n        this.setState({\n          traceStep: step + 1\n        }, this._changeVisualState(item));\n      }\n    };\n\n    this.stepBackward = () => {\n      const trace = this.state.trace;\n      const step = this.state.traceStep;\n\n      if (step > 0) {\n        const item = trace[step - 1];\n        this.setState({\n          traceStep: step - 1\n        }, this._changeVisualState(item));\n      }\n    };\n\n    this.repeat = () => {\n      this.clearTimeouts();\n      this.setState(prevState => ({\n        array: [...prevState.originalArray],\n        traceStep: -1,\n        comparing: [],\n        compared: [],\n        sorted: []\n      }));\n      this.run(this.state.trace);\n    };\n\n    this.adjustPlaybackSpeed = speed => {\n      const playing = this.state.timeoutIds.length > 0;\n      this.pause();\n      const playbackSpeed = Number(speed.split('x')[0]);\n      this.setState({\n        playbackSpeed\n      }, () => {\n        if (playing) this.continue();\n      });\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.array !== this.props.array) {\n      this._reset(this.props.array);\n    }\n\n    if (prevProps.trace !== this.props.trace) {\n      this.clearTimeouts();\n      this.setState({\n        trace: this.props.trace\n      });\n    }\n  } // Actions\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"SortVisualizer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SVtable\",\n        children: /*#__PURE__*/_jsxDEV(SortChart1, {\n          numbers: this.state.array,\n          maxNum: Math.max(...this.state.array),\n          groupA: this.state.groupA,\n          groupB: this.state.groupB,\n          groupC: this.state.groupC,\n          groupD: this.state.groupD,\n          sortedIndices: this.state.sortedIndices,\n          tracestep: this.state.tracestep,\n          trace: this.state.trace\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(SortChart, {\n          numbers: this.state.array,\n          maxNum: Math.max(...this.state.array),\n          groupA: this.state.groupA,\n          groupB: this.state.groupB,\n          groupC: this.state.groupC,\n          groupD: this.state.groupD,\n          sortedIndices: this.state.sortedIndices,\n          l0: this.state.l0,\n          l1: this.state.l1,\n          l2: this.state.l2,\n          l3: this.state.l2,\n          l4: this.state.l2,\n          l5: this.state.l2,\n          l6: this.state.l2,\n          ...this.props.desP\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"SortVisualizer__ProgressBar\",\n        children: /*#__PURE__*/_jsxDEV(ProgressBar, {\n          width: this.state.trace.length > 0 ? this.state.traceStep / (this.state.trace.length - 1) * 100 : 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VisualizerControls, {\n        onPlay: this.state.traceStep === -1 ? this.run.bind(this, this.state.trace) : this.continue.bind(this),\n        onPause: this.pause.bind(this),\n        onForward: this.stepForward.bind(this),\n        onBackward: this.stepBackward.bind(this),\n        onRepeat: this.repeat.bind(this),\n        onAdjustSpeed: this.adjustPlaybackSpeed,\n        playing: this.state.timeoutIds.length > 0,\n        playDisabled: this.state.traceStep >= this.state.trace.length - 1 && this.state.traceStep !== -1 || this.state.trace.length <= 0,\n        forwardDisabled: this.state.traceStep >= this.state.trace.length - 1,\n        backwardDisabled: this.state.traceStep <= 0,\n        repeatDisabled: this.state.traceStep <= 0,\n        playbackSpeed: this.state.playbackSpeed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ColorKey, { ...this.props.colorKey\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SortInfo, { ...this.props.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default SortVisualizer;","map":{"version":3,"sources":["D:/CSE499B/visualize-algo/src/components/floor/SortVisualizer/index.js"],"names":["React","Component","Bar2","SortChart2","SortChart1","SortChart","VisualizerControls","ProgressBar","ColorKey","SortInfo","newTrace","Sd","SortInfoP","SortVisualizer","state","trace","traceStep","originalArray","array","groupA","groupB","groupC","groupD","sortedIndices","l1","l2","l3","l4","l5","l6","timeoutIds","playbackSpeed","_reset","setState","clearTimeouts","forEach","timeoutId","clearTimeout","_changeVisualState","visualState","run","timer","item","i","setTimeout","prevState","push","length","pause","continue","slice","stepForward","step","stepBackward","repeat","comparing","compared","sorted","adjustPlaybackSpeed","speed","playing","Number","split","componentDidUpdate","prevProps","props","render","Math","max","tracestep","l0","desP","bind","colorKey","desc"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './style.css';\r\n\r\n// Sub components\r\nimport Bar2 from '../../celling/Bar2';\r\nimport SortChart2 from '../SortChart2';\r\nimport SortChart1 from '../SortChart1';\r\nimport SortChart from '../SortChart';\r\nimport VisualizerControls from '../../middle/VisualizerControls';\r\nimport ProgressBar from '../../middle/ProgressBar';\r\nimport ColorKey from '../../celling/ColorKey';\r\nimport SortInfo from '../SortInfo';\r\nimport { newTrace } from '../../algorithms/helpers';\r\nimport { Sd } from '../Sd/sd';\r\n\r\n\r\nimport SortInfoP from '../SortInfoP';\r\n\r\nclass SortVisualizer extends Component {\r\n  state = {\r\n    trace: [],\r\n    traceStep: -1,\r\n\r\n    originalArray: [],\r\n    array: [],\r\n    groupA: [],\r\n    groupB: [],\r\n    groupC: [],\r\n    groupD: [],\r\n    sortedIndices: [],\r\nl1:[],\r\nl2:[],\r\nl3:[],\r\nl4:[],\r\nl5:[],\r\nl6:[],\r\n    timeoutIds: [],\r\n    playbackSpeed: 1\r\n  };\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.array !== this.props.array) {\r\n      this._reset(this.props.array);\r\n    }\r\n    if (prevProps.trace !== this.props.trace) {\r\n      this.clearTimeouts();\r\n      this.setState({ trace: this.props.trace });\r\n    }\r\n  }\r\n\r\n  // Actions\r\n\r\n  _reset = (array) => {\r\n    this.setState({\r\n      array,\r\n      trace: [],\r\n      traceStep: -1,\r\n      groupA: [],\r\n      groupB: [],\r\n      groupC: [],\r\n      groupD: [],\r\n      sortedIndices: [],\r\n      originalArray: [...array]\r\n    });\r\n  };\r\n\r\n  clearTimeouts = () => {\r\n    this.state.timeoutIds.forEach((timeoutId) =>\r\n      clearTimeout(timeoutId)\r\n    );\r\n    this.setState({ timeoutIds: [] });\r\n  };\r\n\r\n  _changeVisualState = (visualState) => {\r\n    this.setState({\r\n      array: visualState.array,\r\n      groupA: visualState.groupA,\r\n      groupB: visualState.groupB,\r\n      groupC: visualState.groupC,\r\n      groupD: visualState.groupD,\r\n      sortedIndices: visualState.sortedIndices\r\n    });\r\n  };\r\n\r\n  run = (trace) => {\r\n    const timeoutIds = [];\r\n    const timer = 250 / this.state.playbackSpeed;\r\n\r\n    // Set a timeout for each item in the trace\r\n    trace.forEach((item, i) => {\r\n      let timeoutId = setTimeout(\r\n        (item) => {\r\n          this.setState(\r\n            (prevState) => ({\r\n              traceStep: prevState.traceStep + 1\r\n            }),\r\n            this._changeVisualState(item)\r\n          );\r\n        },\r\n        i * timer,\r\n        item\r\n      );\r\n\r\n      timeoutIds.push(timeoutId);\r\n    });\r\n\r\n    // Clear timeouts upon completion\r\n    let timeoutId = setTimeout(\r\n      this.clearTimeouts,\r\n      trace.length * timer\r\n    );\r\n    timeoutIds.push(timeoutId);\r\n\r\n    this.setState({ timeoutIds });\r\n  };\r\n\r\n  pause = () => {\r\n    this.clearTimeouts();\r\n  };\r\n\r\n  continue = () => {\r\n    const trace = this.state.trace.slice(this.state.traceStep);\r\n    this.run(trace);\r\n  };\r\n\r\n  stepForward = () => {\r\n    const trace = this.state.trace;\r\n    const step = this.state.traceStep;\r\n    if (step < trace.length - 1) {\r\n      const item = trace[step + 1];\r\n      this.setState(\r\n        { traceStep: step + 1 },\r\n        this._changeVisualState(item)\r\n      );\r\n    }\r\n  };\r\n\r\n  stepBackward = () => {\r\n    const trace = this.state.trace;\r\n    const step = this.state.traceStep;\r\n    if (step > 0) {\r\n      const item = trace[step - 1];\r\n      this.setState(\r\n        { traceStep: step - 1 },\r\n        this._changeVisualState(item)\r\n      );\r\n    }\r\n  };\r\n\r\n  repeat = () => {\r\n    this.clearTimeouts();\r\n    this.setState((prevState) => ({\r\n      array: [...prevState.originalArray],\r\n      traceStep: -1,\r\n      comparing: [],\r\n      compared: [],\r\n      sorted: []\r\n    }));\r\n    this.run(this.state.trace);\r\n  };\r\n\r\n  adjustPlaybackSpeed = (speed) => {\r\n    const playing = this.state.timeoutIds.length > 0;\r\n    this.pause();\r\n    const playbackSpeed = Number(speed.split('x')[0]);\r\n    this.setState({ playbackSpeed }, () => {\r\n      if (playing) this.continue();\r\n    });\r\n  };\r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"SortVisualizer\">\r\n        <div className=\"SVtable\">\r\n        <SortChart1\r\n          numbers={this.state.array}\r\n          maxNum={Math.max(...this.state.array)}\r\n          groupA={this.state.groupA}\r\n          groupB={this.state.groupB}\r\n          groupC={this.state.groupC}\r\n          groupD={this.state.groupD}\r\n          sortedIndices={this.state.sortedIndices}\r\n          tracestep={this.state.tracestep}\r\n          trace={this.state.trace}\r\n        />\r\n      \r\n        </div>\r\n        <div>\r\n        <SortChart\r\n\r\n          numbers={this.state.array}\r\n          maxNum={Math.max(...this.state.array)}\r\n          groupA={this.state.groupA}\r\n          groupB={this.state.groupB}\r\n          groupC={this.state.groupC}\r\n          groupD={this.state.groupD}\r\n          sortedIndices={this.state.sortedIndices}\r\n          l0={this.state.l0}\r\n          l1={this.state.l1}\r\n          l2={this.state.l2}\r\n          l3={this.state.l2}\r\n          l4={this.state.l2}\r\n          l5={this.state.l2}\r\n          l6={this.state.l2}\r\n          {...this.props.desP}\r\n\r\n        />\r\n        \r\n</div>\r\n     \r\n        <div className=\"SortVisualizer__ProgressBar\">\r\n          <ProgressBar\r\n            width={\r\n              this.state.trace.length > 0\r\n                ? (this.state.traceStep /\r\n                    (this.state.trace.length - 1)) *\r\n                  100\r\n                : 0\r\n            }\r\n          />\r\n        </div>\r\n\r\n        <VisualizerControls\r\n          onPlay={\r\n            this.state.traceStep === -1\r\n              ? this.run.bind(this, this.state.trace)\r\n              : this.continue.bind(this)\r\n          }\r\n          onPause={this.pause.bind(this)}\r\n          onForward={this.stepForward.bind(this)}\r\n          onBackward={this.stepBackward.bind(this)}\r\n          onRepeat={this.repeat.bind(this)}\r\n          onAdjustSpeed={this.adjustPlaybackSpeed}\r\n          playing={this.state.timeoutIds.length > 0}\r\n          playDisabled={\r\n            (this.state.traceStep >= this.state.trace.length - 1 &&\r\n              this.state.traceStep !== -1) ||\r\n            this.state.trace.length <= 0\r\n          }\r\n          forwardDisabled={\r\n            this.state.traceStep >= this.state.trace.length - 1\r\n          }\r\n          backwardDisabled={this.state.traceStep <= 0}\r\n          repeatDisabled={this.state.traceStep <= 0}\r\n          playbackSpeed={this.state.playbackSpeed}\r\n        />\r\n    \r\n\r\n\r\n\r\n    \r\n\r\n        <ColorKey {...this.props.colorKey} />\r\n        \r\n\r\n        <SortInfo {...this.props.desc} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SortVisualizer;"]},"metadata":{},"sourceType":"module"}